<template name="clientSession">
  {{#if Template.subscriptionsReady}}
  {{#if isInRole 'trainer'}}
  {{> clientSessionShell}}
  {{else}}
  <p>Not Authorized</p>
  {{/if}}
  {{else}}
  <p>Loading...</p>
  {{/if}}
</template>
<template name="clientSessionShell">
  {{#autoForm collection="Meteor.users" id="clientProfileForm" type="method-update" meteormethod="updateClientsProfile" doc=currentClient resetOnSuccess=false autosave=true}}
  <div class="row">
    <div class="col s12 m12 l12">
      <h5 class="center-align black-text clientSessionPadding"><b><u>CLIENT SESSIONS LOG</u></b></h5>
    </div>
  </div>
  <div class="row">
    <div class="col s12 m4 l4">
      <h6 class="center blue-text clientSessionPadding"><b>Sessions Remaining</b></h6>
      {{> afQuickField name="userProfile.sessionsRemaining" class="center-align" type="number" label=false}}
    </div>
    <div class="col s12 m4 l4">
      <h6 class="center blue-text clientSessionPadding"><b>Payment Due</b></h6>
      {{> afQuickField name="userProfile.paymentDue" type="date" class="datepicker center-align" label=false}}
    </div>
    <div class="col s12 m4 l4">
      <h6 class="center blue-text clientSessionPadding"><b>Next Session</b></h6>
      {{> afQuickField name="sessionDate" type="date" class="datepicker center-align" label=false}}
    </div>
  </div>
  {{/autoForm}}
</template>
